<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Weird Javascript: Buzzy statement - Blog for Enablers</title>
<meta name="description" content="Buzzy statement">


  <meta name="author" content="Borys Generalov">
  
  <meta property="article:author" content="Borys Generalov">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Blog for Enablers">
<meta property="og:title" content="Weird Javascript: Buzzy statement">
<meta property="og:url" content="http://localhost:4000/4enablers.github.io/javascript/2012/02/10/buzzy-javascript.html">


  <meta property="og:description" content="Buzzy statement">







  <meta property="article:published_time" content="2012-02-10T03:22:00+01:00">






<link rel="canonical" href="http://localhost:4000/4enablers.github.io/javascript/2012/02/10/buzzy-javascript.html">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "http://localhost:4000/4enablers.github.io/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/4enablers.github.io/feed.xml" type="application/atom+xml" rel="alternate" title="Blog for Enablers Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/4enablers.github.io/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/4enablers.github.io/">
          Blog for Enablers
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/4enablers.github.io/about/">About</a>
            </li><li class="masthead__menu-item">
              <a href="/4enablers.github.io/">Posts</a>
            </li><li class="masthead__menu-item">
              <a href="/4enablers.github.io/categories/">Categories</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/4enablers.github.io/assets/profile/bgener.png" alt="Borys Generalov" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Borys Generalov</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>Sr. Consultant at Microsoft</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      
        
          
            <li><a href="mailto:bgener@gmail.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
            <li><a href="https://twitter.com/bgeneralov" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Weird Javascript: Buzzy statement">
    <meta itemprop="description" content="Buzzy statement">
    <meta itemprop="datePublished" content="2012-02-10T03:22:00+01:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Weird Javascript: Buzzy statement
</h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <h2 id="buzzy-statement">Buzzy statement</h2>

<p>Once I came across this weird statement written in Javascript:</p>

<pre><code class="language-Javascript">++[[]][+[]]+[+[]]
</code></pre>

<p>Being sure that I am pretty good at Javascript, I was trying to figure out whether or not this weird statement is valid. If so, what is the result?</p>

<p>Let’s sort it out together. In order to decode the statement we should split it into the parts. At first glance, you would split it on four groups as following:</p>

<p><span style="background-color: #3598ff; color:#fff">++[[]][</span> + <span style="background-color: #3598ff; color:#fff">[]]</span> + <span style="background-color: #3598ff; color:#fff"> [</span> + <span style="background-color: #3598ff; color:#fff"> []] </span></p>

<p>However, the correct break-down would be two groups as follows:</p>

<p><span style="background-color: #3598ff; color:#fff">++[[]][+[]]</span> + <span style="background-color: #3598ff; color:#fff">[+[]]</span></p>

<p>The statement consists of two parts: leftmost and rightmost. Now, the easiest part to analyze is the rightmost. Let’s have a look closer. We are dealing with a one-element array declared in a literal way, check this out:</p>

<p>[<span style="background-color: #3598ff; color:#fff">+[]</span>] == [<span style="background-color: #3598ff; color:#fff">x</span>] == new Array(x)</p>

<p>And how to explain this statement inside the array:</p>

<p>+[]</p>

<p>The main hint here is the operator +. A statement written in such a way is interpreted by JavaScript as a number, because + acts as a unary operator:</p>

<p>+[] == Number([])</p>

<p>Outputting this via alert() function get us 0, i.e. converting an empty array to a number returns 0. Here is how the function Number() works:</p>

<p>Attempts to convert an array to Javascript primitive type by calling internal toPrimitive() function
In turn, toPrimitive function triggers valueOf() function. If the result is primitive, return it
Otherwise, calls toString() function. Return primitive (if any)
Apply toNumber() to the result
Simply, [].valueOf() returns the array itself. Then the call [].toString() is made, which returns an empty string which, in turn is converted to 0 by calling ToNumber() internal function. So that the rightmost part can be re-written as follows:</p>

<p>[<span style="background-color: #3598ff; color:#fff">+[]</span>] == [<span style="background-color: #3598ff; color:#fff">0</span>]</p>

<p>Now, the process is pretty similar to what we have already seen and we do know that the result of this single statement is also 0*. Let’s take a look at the leftmost part of the statement and pay attention to its rightmost part. The statement can be transformed like this:</p>

<p><span style="background-color: #ff6a35; color:#fff">++[[]] </span> <span style="background-color: #3598ff; color:#fff">[+[]]</span> + <span style="background-color: #3598ff; color:#fff">[+[]]</span> == <span style="background-color: #ff6a35; color:#fff">++[[]] </span> <span style="background-color: #3598ff; color:#fff">[0]</span> + <span style="background-color: #3598ff; color:#fff">[0]</span></p>

<p>Surprisingly, here we are dealing with an array, yet again. Bear in mind that an empty array is converted to empty string or to the 0 when conversion to number takes place. Leftmost part of the statement is really simple now:</p>

<p>++[<span style="background-color: #3598ff; color:#fff">[]</span>][0] == ++[<span style="background-color: #3598ff; color:#fff">””</span>][0]</p>

<p>See? This is an array with an empty string where the indexing is applied, i.e. an element with 0 index is retrieved. Then the result is incremented by 1, which in turn causes its conversion to the number:</p>

<pre><code class="language-Javascript">++[""][0] == ++0 == 1
</code></pre>

<p>Huray, here is the final statement:</p>

<p>++[[]][+[]] + [+[]] == ++0 + [0] == 1 + 0 == 10</p>

<p>Huh?? Ok, what’s going on now? I am sure you did notice the * somewhere above. The rightmost part was evaluated to 0, even more - to “0”, which is a string. Hence we saw the string concatenation rather than the numerical sum.</p>

<p>And as a bonus, can you explain the following results?</p>

<ul>
  <li>++[[1],[2]][+[]] = 2</li>
  <li>[1,2]+[3] = [1,23]</li>
  <li>(1,1,1)+(1,1,1)+(1,1,1) = 3</li>
</ul>

        
      </section>

      <footer class="page__meta">
        
        


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2012-02-10T03:22:00+01:00">February 10, 2012</time></p>


      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?text=Weird+Javascript%3A+Buzzy+statement%20http%3A%2F%2Flocalhost%3A4000%2F4enablers.github.io%2Fjavascript%2F2012%2F02%2F10%2Fbuzzy-javascript.html" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2F4enablers.github.io%2Fjavascript%2F2012%2F02%2F10%2Fbuzzy-javascript.html" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2F4enablers.github.io%2Fjavascript%2F2012%2F02%2F10%2Fbuzzy-javascript.html" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="#" class="pagination--pager disabled">Previous</a>
    
    
      <a href="/4enablers.github.io/misc/2012/08/05/do-not-lie.html" class="pagination--pager" title="Do not lie to your user
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/4enablers.github.io/machinelearning/2018/09/05/machine-learning.html" rel="permalink">Machine Learning and Parking Availability
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          6 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Do you have a lot of data that you were collecting many years and now you consider doing some magic by applying Machine Learning? What are you able to achiev...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/4enablers.github.io/hackathon/2018/08/14/hackathon-parknow.html" rel="permalink">Hackathon: Parking availability
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          7 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">It’s been a week since our regular hackathon at Parkmobile and it’s a good time to recap and share key takeaways. The aim of the hackathon was to find innova...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/4enablers.github.io/misc/2018/08/11/facebook-hackercup.html" rel="permalink">Facebook Hackercup. 5 tips
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">It is always interesting to measure your skills in problem solving. One of the ways to check how good you are, is to participate in Facebook Hackercup. If yo...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/4enablers.github.io/dotnet/2018/08/02/dotnet-timeout.html" rel="permalink">Microservices: Handling timeouts
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">The timeout pattern is perhaps the most basic way to reveal performance issues and satisfy the SLA. Even though the request did not succeed, the client gets ...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    
      <li><a href="/4enablers.github.io/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 Blog for Enablers. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/4enablers.github.io/assets/js/main.min.js"></script>




<script src="/4enablers.github.io/assets/js/lunr/lunr.min.js"></script>
<script src="/4enablers.github.io/assets/js/lunr/lunr-store.js"></script>
<script src="/4enablers.github.io/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
