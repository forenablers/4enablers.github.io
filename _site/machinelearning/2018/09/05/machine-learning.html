<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Machine Learning and Parking Availability - Blog for Enablers</title>
<meta name="description" content="Do you have a lot of data that you were collecting many years and now you consider doing some magic by applying Machine Learning? What are you able to achieve with the data you have?">


  <meta name="author" content="Sergey Zavoloka">
  
  <meta property="article:author" content="Sergey Zavoloka">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Blog for Enablers">
<meta property="og:title" content="Machine Learning and Parking Availability">
<meta property="og:url" content="http://localhost:4000/4enablers.github.io/machinelearning/2018/09/05/machine-learning.html">


  <meta property="og:description" content="Do you have a lot of data that you were collecting many years and now you consider doing some magic by applying Machine Learning? What are you able to achieve with the data you have?">







  <meta property="article:published_time" content="2018-09-05T12:45:00+02:00">






<link rel="canonical" href="http://localhost:4000/4enablers.github.io/machinelearning/2018/09/05/machine-learning.html">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": null,
      "url": "http://localhost:4000/4enablers.github.io/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/4enablers.github.io/feed.xml" type="application/atom+xml" rel="alternate" title="Blog for Enablers Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/4enablers.github.io/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/4enablers.github.io/">
          Blog for Enablers
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/4enablers.github.io/about/">About</a>
            </li><li class="masthead__menu-item">
              <a href="/4enablers.github.io/">Posts</a>
            </li><li class="masthead__menu-item">
              <a href="/4enablers.github.io/categories/">Categories</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      



<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person">

  
    <div class="author__avatar">
      
        <img src="/4enablers.github.io/assets/profile/zavolokas.png" alt="Sergey Zavoloka" itemprop="image">
      
    </div>
  

  <div class="author__content">
    
      <h3 class="author__name" itemprop="name">Sergey Zavoloka</h3>
    
    
      <div class="author__bio" itemprop="description">
        <p>Software Engineer at Amazon</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      

      
        
          
            <li><a href="mailto:zavolokas@gmail.com" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-envelope-square" aria-hidden="true"></i><span class="label">Email</span></a></li>
          
        
          
            <li><a href="https://twitter.com/zavolokas" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Machine Learning and Parking Availability">
    <meta itemprop="description" content="Do you have a lot of data that you were collecting many years and now you consider doing some magic by applying Machine Learning? What are you able to achieve with the data you have?">
    <meta itemprop="datePublished" content="2018-09-05T12:45:00+02:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Machine Learning and Parking Availability
</h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          6 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>Do you have a lot of data that you were collecting many years and now you consider doing some magic by applying Machine Learning? What are you able to achieve with the data you have?</p>

<p>In this post I’ll summarize our experience of trying to apply Machine Learning during the <a href="/hackathon-availability/">hackathon</a>.</p>

<p>In the beginning we will take a look at the problem. After that there will be a small refresher/introduction into Machine Learning and its methods. Then we choose an appropriate method that supposed to solve the problem. Once we know the method, we will figure out what data do we need and what data are actually available. In the end as a bonus, we will consider slightly different approach and will reason about it’s pros &amp; cons.</p>

<h2 id="problem">Problem</h2>

<p>During the hackathon we tackled a <strong>parking availability</strong> problem that was stated as follows:</p>

<blockquote>
  <p>As a customer I want to search for parking in a specific area and get insight if there are spaces available? Show our customers parking prediction per street/area using our transaction history.</p>
</blockquote>

<p>The first solution that popped up in our technology driven minds was Machine Learning.</p>

<h2 id="machine-learning">Machine Learning</h2>
<p>What do we know about Machine Learning?</p>
<blockquote>
  <p>Machine learning is like teenage sex: everyone talks about it, nobody really knows how to do it, everyone thinks everyone else is doing it, so everyone claims they are doing it..</p>

  <p>(c) Someone smart and funny</p>
</blockquote>

<p>What we want essentially is that our program learns how to solve a problem <strong>itself</strong> by discovering hidden patterns in the training data set.</p>

<p>There are following types of learning methods available to solve different types of problems:</p>
<ul>
  <li>Supervised learning for predictions and classifications</li>
  <li>Unsupervised learning for clustering and associations</li>
  <li>Reinforcement learning for learning from experiments</li>
</ul>

<p>What these methods do is train <em>a model</em> that can either predict, classify, associate etc. In other words <strong>the model is an outcome of a learning process</strong>.</p>

<p>As we can see above, to be able to make predictions about parking availability we need to utilize supervised learning to train our model.</p>

<h2 id="supervised-learning">Supervised learning</h2>
<p>How does the supervised learning works? In supervise learning we perform following steps to train our model:</p>
<ul>
  <li>initialize a model with random parameters</li>
  <li>ask model to make predictions based on an input data</li>
  <li>evaluate the prediction based on <strong>known output</strong></li>
  <li>adjusts model’s parameters to minimize the error</li>
</ul>

<p>The key point is that <strong>we must know the prediction(output) for each input</strong> in the training data set. This paired data of <em>inputs and results</em> is named <strong>labeled</strong> data.</p>

<p>The classical example of labeled data for supervised learning is a data set of labeled images with dogs and cats. We know who is pictured on each image: a cat or a dog.</p>

<p><img src="/assets/pn-hackathon-2018/casndogs.jpg" alt="Cats &amp; Dogs" /></p>

<p>The knowledge of the output allows us to train the model in supervised manner.</p>

<h2 id="parking-availability-training-data-set">Parking Availability Training Data Set</h2>

<p>Now let’s try to answer the question - <strong>how our training data set should look like so that we could predict parking availability?</strong></p>

<p><strong>The output data</strong> should be either <em>parking is available</em> or <em>unavailable</em>. It can have different forms of course - binary(yes, no), or probability of availability(87% is available), or something else.</p>

<p><strong>The input data</strong> should have features that influence parking availability.</p>

<p>Desired data set could look like this:</p>

<table>
  <thead>
    <tr>
      <th>input <br /> curLat, curLon, destLat, destLon, day, minute</th>
      <th>label (output) <br /> availability</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">52.3485772, 5.0082082, 52.356612, 4.895434, 244, 772</code></td>
      <td><span style="color:#0a0">true</span></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">52.3485241, 5.0082011, 52.356278, 4.995423, 345, 631</code></td>
      <td><span style="color:#0a0">true</span></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">52.3485789, 5.0082022, 52.353972, 4.995412, 134, 1083</code></td>
      <td><span style="color:#f00">false</span></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">52.3489271, 5.0082082, 52.356129, 4.993729, 245, 890</code></td>
      <td><span style="color:#f00">false</span></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">52.3485772, 5.0082090, 52.356605, 4.995392, 64, 402</code></td>
      <td><span style="color:#0a0">true</span></td>
    </tr>
  </tbody>
</table>

<p>Important part of the data set is the availability <strong>labels</strong>. The labels reflect the availability situation whether the parking was available(<span style="color:#0a0">true</span>) or unavailable(<span style="color:#f00">false</span>) at the given time in the given location.</p>

<p>Do we have these labels in provided data set?</p>

<h2 id="cashless-parking-providers-and-data">Cashless Parking Providers and data</h2>

<p>What data do we have in reality? As the problem states - we need to give a prediction based on <strong>transaction history</strong>. These transaction history comes from a cashless parking provider(CPP) and basically are payments for parking in a particular zone at particular time.</p>

<p>Clients of CPP use the provided services once they are parked and want to pay for the parking. Therefore CPP receives transactions only for successful parking - <em>client managed to park in a particular area, thus parking was available</em>.</p>

<p>What data we don’t have is the data about <strong>unsuccessful parkings</strong> because we don’t know where the client wanted to park <strong>initially</strong>. It is possible that the client wanted to park in one place but it was completely full so he ended up parking in another place far away from the initial destination point. In other words - client dealt with <strong>unavailable parking</strong> but this data <strong>was not captured</strong>.</p>

<blockquote>
  <p>Disclosure: all the data is anonymized according to the <a href="https://eugdpr.org/">GDPR</a>.</p>
</blockquote>

<h2 id="conclusion">Conclusion</h2>

<p>The conclusion is that the <strong>transactions cannot be used as labeled training data set</strong> to train a model to predict parking availability.</p>

<p>Main outcome was that the CPP should start collecting feedback from the users with regard to the parking experience. Simple questions can be asked after user parked:</p>
<ul>
  <li>Have you parked where you initially wanted?</li>
  <li>How long did it take to park?</li>
  <li>Do you see more available parking spots nearby?</li>
</ul>

<p>This feedback will allow building labeled training data set that will not depend on city specifics.</p>

<h2 id="bonus">Bonus</h2>
<h3 id="availability--amount-of-free-spots">Availability = Amount of Free Spots?</h3>

<p>Can we derive availability from the amount of free parking spots? Whenever we can say that there will be <code class="language-plaintext highlighter-rouge">X</code> parking spots free, we can say that parking in the area is available.</p>

<p>In order to train our model to predict amount of free parking spots, our desired labeled training data set should look like:</p>

<table>
  <thead>
    <tr>
      <th>input <br /> curLat, curLon, destLat, destLon, day, minute</th>
      <th>label (output) <br /> amount of free parking spots</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">52.3485772, 5.0082082, 52.356612, 4.895434, 244, 772</code></td>
      <td><span style="color:#0a0">23</span></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">52.3485241, 5.0082011, 52.356278, 4.995423, 345, 631</code></td>
      <td><span style="color:#0a0">68<span></span></span></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">52.3485789, 5.0082022, 52.353972, 4.995412, 134, 1083</code></td>
      <td><span style="color:#f00">0</span></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">52.3489271, 5.0082082, 52.356129, 4.993729, 245, 890</code></td>
      <td><span style="color:#f00">0</span></td>
    </tr>
    <tr>
      <td><code class="language-plaintext highlighter-rouge">52.3485772, 5.0082090, 52.356605, 4.995392, 64, 402</code></td>
      <td><span style="color:#0a0">45<span></span></span></td>
    </tr>
  </tbody>
</table>

<p>In order to label the data we should know amount of free parking spots. The math here is pretty simple:</p>
<ol>
  <li>Estimate a \(Capacity\) of the parking area. As the capacity we can consider a historical maximum amount of simultaneous parking transactions at the area.</li>
  <li>Amount of \(Occupied\) spots is amount of simultanious transactions for a given time and location.</li>
  <li>
\[Free = Capacity - Occupied\]
  </li>
</ol>

<h3 id="accuracy-of-free-spots-prediction">Accuracy of Free spots prediction</h3>

<p>The accuracy of such model will depend on several factors and will vary per city.</p>

<p><strong>Do we have all transactions in a City?</strong> If we don’t we cannot estimate a capacity of a parking location and how many spots are occupied.</p>

<p><strong>Does enforcement work good?</strong> In worse case (when there is no enforcement)drivers won’t pay for parking. This will lead to situation where we see that there are 5 free parking spots, however they are occupied without paying.</p>

<p><strong>Transactions reflect exact parking duration?</strong> There are cases when driver buys 20 minutes to park but leaves after 10 minutes. In couple minutes this spot gets occupied by another car that also creates a transaction. That can influence our estimations of parking space capacity by making it bigger.</p>

<p><strong>Are there special tariffs?</strong> In a case when residents don’t pay for the parking they will occupy a spot but it will not create a transaction. In residential area we will see many free spots that are occupied by residents in reality.</p>

<pre><code class="language-mermaid">graph TD
    start --&gt; K{Major provider?}
    D{Enforced?} --&gt; |Yes| F{Buy time?}
    D --&gt; |No| B
    K --&gt; |No| B[Incomplete]
    K --&gt; |Yes| D
    F --&gt; |Yes| G[Inaccurate]
    F --&gt; |No| H[Complete]
</code></pre>

<p>It worth mentioning that attempt to predict amount of free parking spots in a parking location in Amsterdam (where we didn’t have majority of all the transactions) resulted in weird numbers that exceeded amount of historical maximum of simultaneous parking actions.</p>

        
      </section>

      <footer class="page__meta">
        
        


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2018-09-05T12:45:00+02:00">September 5, 2018</time></p>


      </footer>

      <section class="page__share">
  

  <a href="https://twitter.com/intent/tweet?text=Machine+Learning+and+Parking+Availability%20http%3A%2F%2Flocalhost%3A4000%2F4enablers.github.io%2Fmachinelearning%2F2018%2F09%2F05%2Fmachine-learning.html" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2F4enablers.github.io%2Fmachinelearning%2F2018%2F09%2F05%2Fmachine-learning.html" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2F4enablers.github.io%2Fmachinelearning%2F2018%2F09%2F05%2Fmachine-learning.html" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/4enablers.github.io/hackathon/2018/08/14/hackathon-parknow.html" class="pagination--pager" title="Hackathon: Parking availability
">Previous</a>
    
    
      <a href="#" class="pagination--pager disabled">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h4 class="page__related-title">You May Also Enjoy</h4>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/4enablers.github.io/hackathon/2018/08/14/hackathon-parknow.html" rel="permalink">Hackathon: Parking availability
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          6 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">It’s been a week since our regular hackathon at Parkmobile and it’s a good time to recap and share key takeaways. The aim of the hackathon was to find innova...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/4enablers.github.io/misc/2018/08/11/facebook-hackercup.html" rel="permalink">Facebook Hackercup. 5 tips
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">It is always interesting to measure your skills in problem solving. One of the ways to check how good you are, is to participate in Facebook Hackercup. If yo...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/4enablers.github.io/dotnet/2018/08/02/dotnet-timeout.html" rel="permalink">Microservices: Handling timeouts
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          2 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">The timeout pattern is perhaps the most basic way to reveal performance issues and satisfy the SLA. Even though the request did not succeed, the client gets ...</p>
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/4enablers.github.io/hackathon/2018/06/20/hackatrain.html" rel="permalink">Hackatrain 2018
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">How about having a hackathon on a train? 6 hours on a train, without internet, with a speed over 180 km/h. Sounds crazy but rather cool, isn’t it? Consider a...</p>
  </article>
</div>

        
      </div>
    </div>
  
  
</div>

    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    

    
      <li><a href="/4enablers.github.io/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 Blog for Enablers. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/4enablers.github.io/assets/js/main.min.js"></script>




<script src="/4enablers.github.io/assets/js/lunr/lunr.min.js"></script>
<script src="/4enablers.github.io/assets/js/lunr/lunr-store.js"></script>
<script src="/4enablers.github.io/assets/js/lunr/lunr-en.js"></script>







  </body>
</html>
